const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BvGAAEqy.js","assets/main-CjiS4ifE.js","assets/wScoge-BthgsBuw.js","assets/wScoge-CUf-lIoi.css","assets/main-CU5_KOYG.css","assets/random-Db2hH_qc.js"])))=>i.map(i=>d[i]);
import{cz as d,bc as w}from"./main-CjiS4ifE.js";import{s as o}from"./types-DlKe2M91.js";import"./wScoge-BthgsBuw.js";async function _(c,u,t){var h,i,A,m;if(((h=u==null?void 0:u.auth)==null?void 0:h.mode)!=="popup"&&((i=u==null?void 0:u.auth)==null?void 0:i.mode)!==void 0&&t.authenticateWithRedirect){const l=c.strategy;o.includes(l)&&await t.authenticateWithRedirect(l,(A=u==null?void 0:u.auth)==null?void 0:A.mode,(m=u==null?void 0:u.auth)==null?void 0:m.redirectUrl)}const n=(await t.connect(c)).user.account;if(u&&"smartAccount"in u&&(u!=null&&u.smartAccount)){const[l,f]=await r({client:c.client,authAccount:n,smartAccountOptions:u.smartAccount,chain:c.chain});return{account:l,chain:f,adminAccount:n}}return{account:n,chain:c.chain||d}}async function s(c,u,t){c.authResult&&t.loginWithAuthToken&&await t.loginWithAuthToken(c.authResult);const a=await g(t);if(!a)throw new Error("Failed to authenticate user.");const n=a.account;if(u&&"smartAccount"in u&&(u!=null&&u.smartAccount)){const[h,i]=await r({client:c.client,authAccount:n,smartAccountOptions:u.smartAccount,chain:c.chain});return{account:h,chain:i,adminAccount:n}}return{account:n,chain:c.chain||d}}async function r(c){const{connectSmartAccount:u}=await w(async()=>{const{connectSmartAccount:t}=await import("./index-BvGAAEqy.js").then(a=>a.i);return{connectSmartAccount:t}},__vite__mapDeps([0,1,2,3,4,5]));return u({client:c.client,personalAccount:c.authAccount,chain:c.chain},c.smartAccountOptions)}async function g(c){const u=await c.getUser();switch(u.status){case"Logged In, Wallet Initialized":return u}}export{s as autoConnectInAppWallet,_ as connectInAppWallet};
