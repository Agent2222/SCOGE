class h{constructor(o){this.mapping=o,this.activeLandEvents=["1435","3162","2849","6208","1980"],this.canvas=document.getElementById("universe"),this.currentEvent=[],setTimeout(()=>{this.loadActiveEvents()},1e3),console.log("MapEvents initialized",this.mapping)}domainConversion(o){let r=Number(o),i=r%170,t=Math.floor(r/170),e=i*18,a=t*18;return{coordX:e,coordY:a}}domainToDomainHelper(o,r){let i=Math.floor(o/170),t=o%170,e=Math.floor(r/170),a=r%170,l=null,n=null,s=null,c=null;return Math.floor(Math.random()*2)===0?(t<a&&(l="right",s=a-t),t>a&&(l="left",s=t-a),i<e&&(n="down",c=e-i),i>e&&(n="up",c=i-e),console.log("Direction 1:",l,"Steps 1:",s,"Direction 2:",n,"Steps 2:",c),{dir1:l,steps1:s,dir2:n,steps2:c}):(i<e&&(l="down",s=e-i),i>e&&(l="up",s=i-e),t<a&&(n="right",c=a-t),t>a&&(n="left",c=t-a),console.log("Direction 1:",l,"Steps 1:",s,"Direction 2:",n,"Steps 2:",c),{dir1:l,steps1:s,dir2:n,steps2:c})}drawMapAtCoords(o,r){var i=document.querySelector("#universe"),t=i.getContext("2d"),e=document.createElement("img"),a=18;e.onload=function(){t.drawImage(e,o,r,a,a,o,r,a,a)},e.src="https://storage.scoge.co/scogeUniverse/maps/scoge-taos-city-universe.jpg"}clearPlayerShadow(o,r,i){var t=document.querySelector("#uniPlayers"),e=t.getContext("2d"),a=document.createElement("img"),l=18;e.clearRect(0,0,t.width,t.height),a.onload=function(){switch(e.fillStyle="rgba(255, 255, 255, 0.08)",o){case"up":e.fillRect(r,i,l,1),e.fillRect(r,i+l,l,1);break;case"down":e.fillRect(r,i,l,1),e.fillRect(r,i+l,l,1);break;case"left":e.fillRect(r,i,1,l),e.fillRect(r+l,i,1,l);break;case"right":e.fillRect(r,i,1,l),e.fillRect(r+l,i,1,l);break}},a.src="https://storage.scoge.co/scogeUniverse/maps/scoge-taos-city-universe.jpg"}addMapEvent(o,r,i){var t=this.canvas.getContext("2d");let e=this.domainConversion(o);this.drawMapAtCoords(e.coordX,e.coordY),t.beginPath(),t.rect(e.coordX-4,e.coordY-4,26,26),t.fillStyle=`rgba(216, 197, 51, ${i})`,t.fill(),t.closePath(),this.drawMapAtCoords(e.coordX,e.coordY),t.beginPath(),t.rect(e.coordX,e.coordY,18,18),t.lineWidth=2,t.strokeStyle="#94be8c",t.stroke(),t.closePath()}loadActiveEvents(){this.activeLandEvents.forEach(o=>{this.addMapEvent(o,null,.4)})}eventFilter(o){}pulseMapEvent(){setInterval(()=>{var o=this.canvas.getContext("2d");let r=this.domainConversion("1435");o.beginPath(),o.rect(r.coordX,r.coordY,18,18),o.fillStyle="rgba(216, 197, 51, 0.4)",o.fill(),o.lineWidth=2,o.strokeStyle="var(--accent)",o.stroke(),o.closePath(),setTimeout(()=>{o.clearRect(r.coordX,r.coordY,18,18)},300)},500)}}export{h as MapEvents};
